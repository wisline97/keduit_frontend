<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /*  
            [디자인패턴]
                [1] 싱글턴 패턴 
                    [1-1] 싱글턴 패턴이란 클래스중 단 한개만 생성해야되는 클래스에 적용한다. 
                    [1-2] 일반 데이터 클래스를 싱글턴으로 사용하면안된다.
                    [1-3] 대표적으로 중요데이타의 배열을 가지고있는 클래스는 한개만 존재 해야한다. 
                    [1-4] 위조건의 클래스는 싱글턴 패턴을 적용하면 안전하고 쉽게 사용할수있다. 
                
                [2] 아래 예시는 일반적으로 클래스를 사용했을때의 예시이다. 
        */

        class Student{
            constructor(name , kor , eng){
                this.name = name;
                this.kor = kor;
                this.eng = eng;
            }
        }
        class StudentManager{
            constructor(){
                this.stList = [];
                var st1 = new Student("김철수" , 100, 20);
                var st2 = new Student("이만수" , 20, 40);
                this.stList.push(st1);
                this.stList.push(st2);
            }
        }
        class Board{
            constructor(studentManager){
                this.studentManager = studentManager;
            }
            printStudentInfo(){
                console.log("전체학생")
                for(var i = 0; i < this.studentManager.stList.length; i++){
                    console.log(this.studentManager.stList[i])
                }
            }
        }
        class Professor{
            constructor(studentManager){
                this.studentManager = studentManager;
            }
            searchStudentInfo(index){
                console.log("학생검색 : " , this.studentManager.stList[index])
                
            }
        }

        var stManager = new StudentManager();
        var board = new Board(stManager);
        var pro = new Professor(stManager);
        board.printStudentInfo();
        pro.searchStudentInfo(1);

        /*
            위와같이 게시판이나 교수 클래스 에서 학생정보를 사용할때 학생매니저 클래스를 일일이 전부 넣어줘야 한다. 
            싱글턴패턴을 사용하면 좀더 쉽게 사용가능하다. 
        */
        
    </script>


</body>
</html>