<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /*  
            [디자인패턴]
                [1] 싱글톤 만드는법
                    [1-1] 변수앞에 static을 붙이면 전역변수가 된다.  
                    [1-2] 리턴함수앞에 static 을 붙여 전역 함수를 만든다. 
                    [1-3] 전역 변수나 함수는 다른 어떤곳에서든 사용할수있다. 
            }
        */

        class Student{
            constructor(name , kor , eng){
                this.name = name;
                this.kor = kor;
                this.eng = eng;
            }
        }
        class StudentManager{
            static instance = new StudentManager(); // 내부에서 static 변수로 자신을 생성한다.
            static getInstance(){
                return this.instance; // instance 는 그냥 변수명으로 바꿔도 상관없다. 
            }

            constructor(){
                this.stList = [];
                var st1 = new Student("김철수" , 100, 20);
                var st2 = new Student("이만수" , 20, 40);
                this.stList.push(st1);
                this.stList.push(st2);
            }
        }
        class Board{
            constructor(){
                
            }
            printStudentInfo(){
                console.log("전체학생")
                var stManager = StudentManager.getInstance();
                for(var i = 0; i < stManager.stList.length; i++){
                    console.log(stManager.stList[i])
                }
            }
        }
        class Professor{
            constructor(){
                
            }
            searchStudentInfo(index){
                var stManager = StudentManager.getInstance();
                console.log("학생검색 : " , stManager.stList[index])
                
            }
        }

       // var stManager = new StudentManager(); 이미 static 으로 생성했기때문에 또생성하면안된다. 
        var board = new Board();
        var pro = new Professor();
        board.printStudentInfo();
        pro.searchStudentInfo(1);

      
        
    </script>


</body>
</html>